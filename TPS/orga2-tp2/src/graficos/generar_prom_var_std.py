import re
import numpy as np
from scipy import stats
import matplotlib.pyplot as plt
import subprocess
import sys


def reject_outliers(data, mean, std, m=2):
    return np.array(data)[abs(data - mean) < m * std]

data = [53213398, 54138577, 54469263, 53756155, 53718641, 53354617, 53303761, 54572467, 54372020, 53824405, 53176309, 53230966, 53131083, 53075091, 54157871, 55285108, 53071324, 53958488, 55519293, 53527102, 53851198, 52888455, 52914005, 53196168, 53720891, 53593155, 53277340, 53204513, 53284979, 53706794, 53151955, 53172634, 53773393, 52746032, 53369045, 53766902, 53237017, 53154658, 53220220, 53862694, 52666542, 53277607, 54116215, 53300136, 54557688, 53307236, 53726384, 53742073, 53176664, 53283944, 54502090, 53970535, 53525583, 53200614, 53290663, 53173422, 55142193, 52924218, 53269958, 53028387, 53324694, 53032195, 54710338, 53283903, 53285489, 53822875, 52990329, 53258901, 53343003, 53318718, 53254427, 53470779, 53813971, 53325251, 54190311, 52947959, 54173313, 53343351, 53774486, 53015872, 53320194, 54350927, 53425383, 53323891, 54655984, 52950340, 53078121, 54008756, 55475943, 53286618, 54897295, 53103493, 58885708, 53260662, 57704297, 53459158, 54230914, 53745899, 53522762, 53723416, 48434372, 53127229, 48915143, 48864095, 50093852, 49519932, 48662226, 55548967, 48429974, 49123840, 48852727, 48693859, 48459147, 48871662, 48504499, 49632972, 48828029, 49225286, 48983661, 48805883, 49196279, 48808719, 48405018, 48863503, 49121353, 48487401, 48674386, 49623715, 48656951, 48409711, 49737722, 49146457, 48769777, 48863813, 50176041, 48289122, 48503304, 48831768, 48725219, 49948822, 48473352, 48630604, 48306279, 48584145, 48721453, 49106927, 49758997, 48895220, 48377411, 48977740, 48525932, 48696380, 48372051, 50090656, 48835838, 48462600, 48888236, 48464971, 48500489, 50864925, 49143506, 48563571, 49935019, 49765304, 49168740, 49609795, 48440440, 48502454, 48836343, 48906674, 48693749, 48387398, 48236593, 48849338, 50047071, 48460075, 48519800, 48733665, 49050049, 49519495, 48632692, 48813462, 48376095, 49532559, 48709638, 48415687, 48436148, 48401984, 48466592, 49430746, 48339419, 49221665, 48411761, 48414826, 49665180, 48585538, 48794304, 48467567, 48892195, 48315036]

data_std = (np.std(data))
data_var = (np.var(data))
data_trimmed = (
    np.mean(
        reject_outliers(data, np.mean(data), np.std(data)
        )
    )
)

print(f'STD: {data_std}')
print(f'VAR: {data_var}')
print(f'MEAN: {data_trimmed}')